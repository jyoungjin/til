## 시스템콜과 modebit

----

##### 시스템콜

- 시스템콜이란 운영체제가 커널에 접근하기 위한 인터페이스이며 유저 프로그램이 운영체제의 서비스를 받기 위해 커널 함수를 호출할 때 씁니다.
  만약 유저프로그램이 I/O 요청을 위한 트랩을 발동했다고 하면 다음과 같은 과정이 발생됩니다.
  1. 유저 프로그램이 I/O 요청 트랩발동
  2. 올바른 I/O 요청인지 확인한 후
  3. 유저 모드가 시스템콜을 통해
  4. 커널 모드로 변환한 후 커널함수를 실행합니다.
- 커널함수
  - 커널 안에 있는 여러개의 함수를 뜻합니다. (native function이라고도 합니다.)
- 커널
  - 운영체제의 핵심 부분이자 시스템콜을 제공하며 보안, 메모리, 프로세스, 파일 시스템, I/O 디바이스, I/O 요청 관리 등 운영체제의 중추적인 역할을 합니다.
  - 유저 모드
    - 유저가 접근할 수 있는 영역을 제한적으로 두며 컴퓨터 자원에 함부로 침범하지 못하는 모드
  - 커널 모드
    - 모든 컴퓨터 자원에 접근할 수 있는 모드



##### 시스템콜의 장점

- **유저 프로그램은 시스템콜을 기반으로 커널과 분리**가 되게 됩니다. 즉, 유저프로그램은 복잡한 파일 시스템과 프로세스 생성 등에 대한 내부동작을 신경쓸 필요가 없습니다. 또한, 시스템의 안정성과 보안이 강화됩니다. 
  예를 들어 공격자가 만든 카메라 앱 프로그램이 그냥 아무런 제약없이 커널에 접근할 수 있다고 가정해봅시다. 카메라에 관련한 메모리 등이 오염될 수 있고 그러면 카메라는 내 의도와는 관계없이 켜지게 되어 사생활이 노출 될 수도 있습니다. 이러한 것을 방지하기 위해 유저 모드에서 시스템 콜로만 커널 모드에 진입할 수 있게 하나의 통로만을 만든 것입니다.



##### modebit

- 시스템콜이 작동될 때 modebit을 기반으로 유저 모드와 커널 모드를 구분합니다.
   modebit은 1 또는 0의 값을 가지는 플래그 변수이며 1은 유저 모드, 0은 커널 모드를 가리킵니다.
