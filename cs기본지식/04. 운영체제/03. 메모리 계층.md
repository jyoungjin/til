## 메모리 계층

----

##### 메모리 계층

- 메모리 계층은 레지스터, 캐시, 메모리, 저장장치로 구성되어 있습니다.
  - 레지스터: CPU 안에 있는 작은 메모리, 휘발성, 속도 가장 빠름,기억 용량이 가장 적음.
  - 캐시: L1, L2 캐시를 지칭합니다. 휘발성, 속도 빠름, 기억 용량이 적음.
  - 주기억장치: RAM을 가리킵니다. 휘발성, 속도 보통, 기억 용량이 보통
  - 보조기억장치: HDD, SDD를 일컬으며 비휘발성, 속도 낮음, 기억 용량이 많습니다.
- 이러한 계층이 있는 이유는 **경제성** 때문입니다.



##### 가상메모리와 스와핑, 페이지폴트 그리고 스레싱

- 가상 메모리
  - OS에서 사용되는 메모리 관리 기술입니다. 
    컴퓨터의 물리적 메모리 부족을 보완하고 RAM (Random Access Memory)에서 디스크 스토리지로 데이터를 일시적으로 전송하는 스와핑을 할 수 있게 하며 컴퓨터가 보조 메모리를 주 메모리인것처럼 처리할 수도 있습니다.
  - 물리적 메모리 부족을 보완하며 실제 마치 큰 메모리를 기반으로 멀티태스킹을 하게 할 수 있음.
    이때 가상적으로 주어진 주소를 가상 주소라고 하며, 실제 메모리상에 있는 주소를 실제 주소라고 합니다.
  - 가상 주소는 메모리 관리장치(MMU)에 의해 실제 주소로 변환되며, 이 덕분에 사용자는 실제 주소를 의식할 필요 없이 프로그램을 구축할 수 있게 됩니다.
    가상 메모리는 가상 주소와 실제 주소가 매핑되어 있고 프로세스의 주소 정보가 들어 있는 '페이지 테이블'로 관리됩니다.
    이때 속도 향상을 위해 TLB를 씁니다.
  - TLB: 메모리와 CPU 사이에 있는 주소 변환을 위한 캐시이다. 페이지 테이블에 있는 리스트를 보관하며 CPU가 페이지 테이블까지 가지 않도록 해 속도를 향상시킬 수 있는 캐시 계층이다.
- 스와핑
  - 페이지 폴트가 발생한 경우 메모리의 당장 사용하지 않는 영역을 하드디스크로 옮기고 하드디스크의 일부분을 “마치 메모리처럼” 불러와 쓰는 것.
  - 페이지: 가상 메모리를 사용하는 최소 크기 단위
  - 프레임: 
