## 프로그램과 프로세스 그리고 스레드의 차이

----

##### 프로그램과 프로세스 그리고 스레드의 차이

- **프로세스**: 컴퓨터에서 실행되고 있는 프로그램, CPU 스케줄링의 대상이 되는 작업(task)
  - **프로그램이 메모리에 올라가면 프로세스가 되는 인스턴스화**가 일어나고, 이후 운영체제의 CPU 스케줄러에 따라 CPU가 프로세스를 실행합니다.
  - 프로세스와 컴파일 과정
    - 프로세스는 프로그램으로부터 인스턴스화된 것을 말합니다.
  - 프로그램: 컴파일러가 컴파일 과정을 거쳐 컴퓨터가 이해할 수 있는 기계어로 번역되어 실행될 수 있는 파일이 되는 것을 의미하며, '컴파일 과정'이란 다음과 같습니다.
    1. 전처리: 소스 코드의 주석을 제거하고 #include 등 헤더 파일을 병합하여 매크로를 치환합니다.
    2. 컴파일러: 오류 처리, 코드 최적화 작업을 하며 어셈블리어로 변환합니다.
    3. 어셈블러: 어셈블리어는 목적 코드로 변환됩니다.
    4. 링크: 프로그램 내에 있는 라이브러리 함수 또는 다른 파일들과 목적 코드를 결합하여 실행 파일을 만듭니다.
- **스레드 프로세스** : 하나의 스레드만 가지고 있는 프로세스
- **멀티스레드 프로세스** : 여러 개의 스레드를 가지고 있는 프로세스
- **스레드**: 프로세스 내 작업의 흐름을 지칭. (실행 가능한 가장 작은 단위)
- 차이점
  - 프로세스
    - **코드, 데이터, 스택, 힙** 메모리 영역을 기반으로 작업
    - 프로세스가 다른 프로세스와 통신을 하기 위해서는 IPC를 사용해야함.
  - 스레드
    - 프로세스 내의 스택 메모리 영역을 제외한 다른 메모리 영역을 프로세스 내 다른 스레드들과 공유
    - 스레드는 메모리를 공유하기 때문에 다른 스레드와의 정보공유가 쉬움. (But. 동기화 문제 등의 단점이 있음)
  - 예를 들어 웹 요청을 처리할 때 새 프로세스를 생성하는 대신 스레드를 사용하는 웹 서버의 경우 훨씬 적은 리소스를 소비하며, 한 스레드가 중단(blocked) 되어도 다른 스레드는 실행(running) 상태일 수 있기 때문에 중단되지 않은 빠른 처리가 가능합니다. 또한 동시성에도 큰 장점이 있습니다.
    하지만 한 스레드에 문제가 생기면 다른 스레드에도 영향을 끼쳐 스레드로 이루어져 있는 프로세스에 영향을 줄 수 있는 단점이 있습니다.
  - 동시성: 서로 독립적인 작업들을 작은 단위로 나누고 동시에 실행되는 것처럼 보여주는 것
