## DEEP DIVE: www.naver.com 주소창 입력

---

- 대기열, 캐싱, DNS, 라우팅, ARP, 초기 연결을 거쳐 컨텐츠를 다운받게 되고 이 후 브라우저 렌더링 과정을 거쳐 네이버라는 화면이 나타나게 됩니다.
  또한 이러한 과정이 캐뷸화, 비캡슐화 과정을 거쳐서 이뤄지게 됩니다.
- 대기열
  - 브라우저는 주소창 입력에 대한 요청을 대기열에 넣습니다.
- 캐싱
  - 캐싱은 요청된 값의 결과값을 저장하고 그 값을 다시 요청하면 다시 제공하는 기술인데요.
    이는 공유 프록시 캐시와 브라우저 캐시로 나눠집니다.
  - 브라우저 캐시
    - 브라우저 캐시는 쿠키, 로컬 스토리지 등을 포함한 캐시입니다.
      브라우저 자체가 사용자가 HTTP를 통해 다운로드하는 모든 문서를 보유하는 것을 말합니다.
      예를 들어 어떤 사이트를 갔다가 다시 방문하면 굉장히 빠르게 컨텐츠가 나타나죠?
      그것이 바로 브라우저 캐시입니다. 인터넷 사용기록을 삭제하고 싶어서 누르려고 하면 쿠키 및 기타 사이트 데이터, 캐시라고 있죠? 바로 이 부분입니다.
  - 공유 프록시 캐시
    - 공유 프록시 캐시는 요청한 서버에서 프록시 서버가 캐싱을 하는 것을 말합니다.
      예를 들어 Node.js로 서버를 구축한다면 앞단의 프록시 서버로 nginx 서버를 둬서 이 서버를 캐싱 서버로도 사용할 수 있는 것이죠.
- DNS
  - 브라우저가 요청의 IP 주소를 확인하는 단계입니다. DNS는 도메인 이름과 IP 주소를 매핑해주는 서버입니다.
    예를 들어 www.naver.com에 DNS 쿼리가 오면 [ROOT DNS] -> [.com DNS] -> [.naver DNS] -> [.www DNS] 과정을 거쳐 완벽한 주소를 찾아 IP 주소를 매핑합니다. 참고로 바로 DNS 서버에 요청을 전달하는 것은 아니고 먼저 컴퓨터 메모리에 있는 호스트 파일 등 캐시를 확인한 후 캐시미스가 일어나면 DNS 서버로 요청합니다.
- IP 라우팅 > ARP: 진정한 서버를 찾음!
- 초기연결
  - 브라우저가 TCP 3웨이 - 핸드셰이크 및 SSL 연결 등을 통해 연결을 설정합니다.
    이 후 요청을 보낸 후 드디어 해당 요청한 서버로부터 응답을 받습니다.
- 콘텐츠 다운로드
  - 브라우저는 서버로부터의 응답을 수신합니다.
- 브라우저 렌더링
